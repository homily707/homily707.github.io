<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | æ–¯æ˜¯é™‹å®¤</title><meta name=keywords content><meta name=description content="Posts - æ–¯æ˜¯é™‹å®¤"><meta name=author content="Me"><link rel=canonical href=https://homily707.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><link rel=icon href=https://homily707.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://homily707.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://homily707.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://homily707.github.io/apple-touch-icon.png><link rel=mask-icon href=https://homily707.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://homily707.github.io/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="Posts"><meta property="og:description" content="å‹¿åœ¨æµ®æ²™ç­‘é«˜å°"><meta property="og:type" content="website"><meta property="og:url" content="https://homily707.github.io/posts/"><meta property="og:site_name" content="mysite"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="å‹¿åœ¨æµ®æ²™ç­‘é«˜å°"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://homily707.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://homily707.github.io/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://homily707.github.io/tags/algo/ title=ç®—æ³•><span>ç®—æ³•</span></a></li><li><a href=https://homily707.github.io/tags/data/ title=æ•°æ®åº“><span>æ•°æ®åº“</span></a></li><li><a href=https://homily707.github.io/tags/k8s/ title=k8s><span>k8s</span></a></li><li><a href=https://homily707.github.io/tags/go/ title=go><span>go</span></a></li><li><a href=https://homily707.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://homily707.github.io/search title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://homily707.github.io/>Home</a></div><h1>Posts
<a href=index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2>6.824 Lab2 Guide</h2></header><div class=entry-content><p>guidance Read this guide for Raft specific advice. Advice on locking in labs. Advice on structuring your Raft lab. This Diagram of Raft interactions may help you understand code flow between different parts of the system. Dprint and colorful print debuging faultå›  error æœ ï¼ˆéšè—çš„errorï¼Œ å‡ºç°çš„errorï¼Œmaskedçš„errorï¼‰ ç¨‹åºçš„ä¸‰ç§çŠ¶æ€
ç¨‹åºæ­£ç¡®ï¼Œä½†æ˜¯å·²ç»æœ‰ fault faultå·²ç»äº§ç”Ÿlatent errorã€‚ä½†æ˜¯è¿˜æœªæ˜æ˜¾å½±å“ç¨‹åºçŠ¶æ€ errorå‡ºç° åšæ³•
æƒ³åŠæ³•ï¼Œå‡å°‘é˜¶æ®µ2æŒç»­çš„æ—¶é—´ï¼Œæ‰€ä»¥å°±èƒ½æ›´å¿«çš„å®šä½1åˆ‡æ¢åˆ°2çš„æ—¶å€™ã€‚ ä¿æŒå¤´è„‘æ¸…é†’ï¼Œèšç„¦å½“å‰çš„first observable errorï¼Œä¸åœçš„å¾€å‰è¿½æº¯ã€‚ bisection instrumentation
è¦èƒ½æ–¹ä¾¿åœ°è°ƒèŠ‚logçš„è¯¦ç»†ç¨‹åº¦ å¯è¯»æ€§ï¼Œé¢œè‰²ï¼Œä¿æŒä¸€è‡´çš„è¾“å‡º åŠ å¼ºæ–°å¢æ—¥å¿—èƒ½åŠ› tips
å¤šä¸ªfaultsæ—¶ï¼Œå…ˆæ‰¾ç¬¬ä¸€ä¸ª ä¸è¦è½»æ˜“æ’é™¤ï¼Œä¸è¦ä¾èµ–ä½ è„‘æµ·ä¸­çš„æ¨¡å‹ï¼Œalways verify your assumptions å¤ç›˜ ä¸è¦åš ä¸æˆç†Ÿçš„è¡¥æ•‘ fail loudlyï¼Œ offensive programming å¶å‘bugï¼Œç–¯ç‹‚çš„è¾“å‡ºæ—¥å¿—ï¼Œåç­‰å¤ç° å…ˆæƒ³æƒ³what the fuck the test is doing</p></div><footer class=entry-footer><span title='2022-05-02 11:37:08 +0800 CST'>May 2, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;83 words&nbsp;Â·&nbsp;homily</footer><a class=entry-link aria-label="post link to 6.824 Lab2 Guide" href=https://homily707.github.io/posts/db/6.824-lab2-guide/></a></article><article class=post-entry><header class=entry-header><h2>6.824 Lab1</h2></header><div class=entry-content><p>å®ç° masteræœ‰å››ä¸ªçŠ¶æ€ï¼Œä¸åŒçš„çŠ¶æ€ä½¿ç”¨ä¸åŒçš„å¤„ç†é€»è¾‘ã€‚è€Œworkeræ˜¯æ— çŠ¶æ€çš„ï¼Œç›´æ¥å¹²æ´»jobå°±è¡Œäº†ï¼Œåªç”¨åˆ¤æ–­ä¸€ä¸‹jobçš„ç±»å‹ map reduceçš„åŸç†å¾ˆå¥½ç†è§£ï¼Œç›´æ¥å®ç°å³å¯ masterç”¨ä¸¤ä¸ª chan æ¥ä¿å­˜å½“å‰è¦ä¸‹å‘çš„map job å’Œ reduce jobï¼Œç”¨ä¸€ä¸ªRWMapæ¥ç®¡ç†jobçš„çŠ¶æ€ã€‚å› ä¸ºæ¶‰åŠå¹¶å‘ï¼Œæ¯æ¬¡éƒ½è¦ä¸Šé”ã€‚
é”™è¯¯å¤„ç† jobä¸‹å‘æ—¶è®°å½•ä¸‹ä¸‹å‘æ—¶é—´ï¼Œæ”¶åˆ°jobå®Œæˆæ—¶è¦å’Œä¸‹å‘æ—¶é—´è¿›è¡Œæ¯”è¾ƒã€‚åœ¨Doneå‡½æ•°ä¸­ï¼Œå®šæ—¶éå†æ£€æŸ¥jobçŠ¶æ€ï¼Œæœ‰è¶…æ—¶çš„é‡æ–°ä¼ å…¥chanã€‚
åº“å‡½æ•°ç§¯ç´¯ json.NewDecoder(file)
json.NewEncoder(tempFile)
dec.Decode(&kv)
ioutil.TempFile</p></div><footer class=entry-footer><span title='2022-04-22 11:42:44 +0800 CST'>April 22, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;18 words&nbsp;Â·&nbsp;homily</footer><a class=entry-link aria-label="post link to 6.824 Lab1" href=https://homily707.github.io/posts/db/6.824-lab1/></a></article><article class=post-entry><header class=entry-header><h2>Bubbletea</h2></header><div class=entry-content><p></p></div><footer class=entry-footer><span title='2022-03-02 11:30:22 +0800 CST'>March 2, 2022</span>&nbsp;Â·&nbsp;0 min&nbsp;Â·&nbsp;0 words&nbsp;Â·&nbsp;homily</footer><a class=entry-link aria-label="post link to Bubbletea" href=https://homily707.github.io/posts/go/bubbletea/></a></article><article class=post-entry><header class=entry-header><h2>Tidb-learning-0</h2></header><div class=entry-content><p></p></div><footer class=entry-footer><span title='2021-11-02 11:26:42 +0800 CST'>November 2, 2021</span>&nbsp;Â·&nbsp;0 min&nbsp;Â·&nbsp;0 words&nbsp;Â·&nbsp;homily</footer><a class=entry-link aria-label="post link to Tidb-learning-0" href=https://homily707.github.io/posts/db/tidb-0/></a></article><article class=post-entry><header class=entry-header><h2>æ ‘çŠ¶æ•°ç»„</h2></header><div class=entry-content><p>åŸç†ç†è§£ lowbit å°±æ˜¯æ•°å­—çš„æœ€ä½ä½ 11000 -ã€‹ 1000
åœ¨æ ‘çŠ¶æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬ç”¨lowbitè¡¨ç¤ºè¿™ä¸ªä¸‹æ ‡çš„sumï¼ŒåŒ…å«äº†å‡ ä¸ªæ•°ã€‚æ¯”å¦‚ 11010 çš„ lowbit ä¸º 10ï¼Œå³ä»–ç®¡è¾–äº† ï¼ˆ11000ï¼Œ11010] è¿™ä¸¤ä¸ªæ•°çš„å’Œï¼Œå·¦å¼€å³é—­ã€‚æ‰€ä»¥å½“æˆ‘ä»¬è¦æ±‚ã€0ï¼Œxã€‘çš„å’Œçš„æ—¶å€™ï¼Œå°±æ˜¯æ±‚[0ï¼Œx-lowbit(x)]+ï¼ˆx-lowbit(x),x] ï¼Œåè€…æˆ‘ä»¬å·²ç»å­˜å‚¨å¥½äº†ï¼Œå‰è€…é€šè¿‡è¿­ä»£çš„æ–¹å¼æ±‚å‡ºã€‚å› ä¸ºæ˜¯å·¦å¼€å³é—­ï¼Œæˆ‘ä»¬å®é™…åªèƒ½æ±‚åˆ°ï¼ˆ0,x]ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦èƒ½é¢å¤–æ·»åŠ ä¸€ä¸ªindexä¸º0çš„ï¼Œå€¼ä¹Ÿä¸º0çš„å€¼ã€‚æ‰€ä»¥åœ¨å®ç°çš„æ—¶å€™ï¼ŒçœŸæ­£çš„æ•°å­—æ˜¯ä»ä¸‹æ ‡1å¼€å§‹çš„ã€‚
ä¸€ä¸ªæ•°åŠ ä¸Šè‡ªå·±lowbit 11010 + 10 = 11100ï¼Œ å®ç°çš„å°±æ˜¯æœ€ä½ä½çš„è¿›ä½ï¼Œè€Œè¿™ä¸ªè¿›ä½æ‰€å¾—åˆ°çš„æ•°ï¼Œä¸€å®šæ˜¯ç®¡è¾–è‡ªå·±çš„æ•°ã€‚
å®ç°è¦ç‚¹ sumæ•°ç»„çš„ä¸‹æ ‡å’ŒåŸå§‹æ•°ç»„çš„ä¸‹æ ‡å­˜åœ¨åŠ 1çš„å…³ç³» lowbit ç”¨ x&-xå®ç° show me the code type BinaryIndexTree struct { Data []int SumSlice []int Len int } func (bit *BinaryIndexTree) Init(array []int) { bit.Len = len(array) bit.Data = array bit.SumSlice = make([]int, bit.Len+1) for i, num := range array { bit.addInSum(i, num) } } func (bit *BinaryIndexTree) Add(index int, delta int) { bit....</p></div><footer class=entry-footer><span title='2020-05-18 11:19:16 +0800 CST'>May 18, 2020</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;159 words&nbsp;Â·&nbsp;homily</footer><a class=entry-link aria-label="post link to æ ‘çŠ¶æ•°ç»„" href=https://homily707.github.io/posts/algo/binaryindextree/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://homily707.github.io/posts/>Â« Prev</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://homily707.github.io/>æ–¯æ˜¯é™‹å®¤</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>